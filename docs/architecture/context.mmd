flowchart TB
    user["StarTracker user\n(browser/UI consumer)"]

    subgraph st["StarTracker system boundary"]
        direction TB
        ui["StarTracker UI\n(S3 static hosting)"]
        api["AWS API Gateway HTTP API\n(StarTracker API entrypoint)"]
        fn["AWS Lambda\n(Application compute)"]
        db[("DynamoDB\n(Persistence)")]
    end

    user -->|Uses UI| ui
    ui -->|Calls API with X-API-Key| api
    api -->|Invokes| fn
    fn -->|Reads/writes observations| db

    auth["Authentication touchpoint:\nX-API-Key required for /api requests"]
    sensitive["Data sensitivity:\nObservation coordinate fields are encrypted\nbefore persistence"]

    api -.-> auth
    fn -.-> sensitive

    classDef boundary fill:#eef6ff,stroke:#3b82f6,stroke-width:2px;
    classDef actor fill:#fff7ed,stroke:#fb923c,stroke-width:2px;
    classDef note fill:#f8fafc,stroke:#64748b,stroke-dasharray: 6 4;

    class st boundary;
    class user actor;
    class auth,sensitive note;
